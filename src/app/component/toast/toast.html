@if (toast.message()) {
  <div class="fixed top-10 right-10 z-[999] animate-toast-enter">
    <div
      class="relative bg-slate-900 text-white rounded-3xl px-6 py-5 shadow-[0_35px_60px_-15px_rgba(0,0,0,0.6)] flex items-start gap-4 min-w-96 overflow-hidden"
    >
      <!-- Glow Accent -->
      <div
        [class]="{
          'bg-red-500/30': toast.type() === 'error',
          'bg-green-500/30': toast.type() === 'success',
          'bg-blue-500/30': toast.type() === 'info',
        }"
        class="absolute inset-0 blur-2xl opacity-40 transition-all duration-300"
      ></div>

      <!-- Icon -->
      <div
        [class]="{
          'bg-red-500 shadow-red-500/40': toast.type() === 'error',
          'bg-green-500 shadow-green-500/40': toast.type() === 'success',
          'bg-blue-500 shadow-blue-500/40': toast.type() === 'info',
        }"
        class="relative h-11 w-11 rounded-2xl flex items-center justify-center shadow-lg"
      >
        @switch (toast.type()) {
          @case ('error') {
            <svg
              class="w-5 h-5 text-white"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2.5"
            >
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          }
          @case ('success') {
            <svg
              class="w-5 h-5 text-white"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2.5"
            >
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
            </svg>
          }
          @default {
            <svg
              class="w-5 h-5 text-white"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2.5"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
          }
        }
      </div>

      <!-- Content -->
      <div class="relative flex flex-col">
        <span
          [class]="{
            'text-red-400': toast.type() === 'error',
            'text-green-400': toast.type() === 'success',
            'text-blue-400': toast.type() === 'info',
          }"
          class="text-[10px] font-black uppercase tracking-[0.25em]"
        >
          System Notification
        </span>

        <p class="text-sm font-semibold tracking-tight mt-1 leading-snug">
          {{ toast.message() }}
        </p>
      </div>

      <!-- Close -->
      <button
        (click)="toast.clear()"
        class="relative ml-auto p-2 rounded-xl hover:bg-white/10 transition"
      >
        <svg
          class="w-4 h-4 text-slate-400 hover:text-white"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2.5"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>

      <!-- Progress -->
      <div class="absolute bottom-0 left-0 h-1 w-full bg-white/10 overflow-hidden">
        <div
          [class]="{
            'bg-red-500': toast.type() === 'error',
            'bg-green-500': toast.type() === 'success',
            'bg-blue-500': toast.type() === 'info',
          }"
          class="h-full animate-shrink-width"
        ></div>
      </div>
    </div>
  </div>
}

<style>
  @keyframes toastEnter {
    0% {
      opacity: 0;
      transform: translateY(-10px) scale(0.95);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .animate-toast-enter {
    animation: toastEnter 250ms cubic-bezier(0.16, 1, 0.3, 1);
  }

  @keyframes shrink {
    from {
      width: 100%;
    }
    to {
      width: 0%;
    }
  }

  .animate-shrink-width {
    animation: shrink 5000ms linear forwards;
  }
</style>
